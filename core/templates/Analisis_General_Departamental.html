{% extends "layouts/base.html" %} {% block title %} UI Components {% endblock %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %} {% block content %}

<div class="main-content-container container-fluid px-4">
  <!-- Page Header -->
  <div class="page-header row no-gutters py-4">
    <div class="col-12 col-sm-4 text-center text-sm-left mb-0">
      <h3 class="page-title">
        {% if 'peaje' in request.path %}Analisis{% elif 'departamental' in request.path %}Analisis Departamento
        {% else %}Analisis General{% endif %}
      </h3>
      <span class="text-uppercase page-subtitle" id="peaje-name"></span>
    </div>
    <div class="col-12 col-sm-3 ml-auto" >
      <img  style="object-fit: contain;width: 300px;" src="/static/assets/img/logos_join.png" alt="Invias">
    </div>
  </div>

  <div class="card card-small mb-4">
    <div class="card-body">
      <form action=" " method="POST" id="post-form">
        {% csrf_token %}
        <div class="form-row">
          <div class="col-4 mb-3">
            <label>Fecha Inicial</label>
            <input type="text" class="form-control calendar" id="startdate" placeholder="mm/dd/yyyy" required>
          </div>
          <div class="col-4 mb-3">
            <label>Fecha Final</label>
            <input type="text" class="form-control calendar" id="enddate" placeholder="mm/dd/yyyy" required>
          </div>
          <div class="col-4 mb-3">
            <label>{% if 'peaje' in request.path %} Peaje {% elif 'departamental' in request.path %}
              Departamento{% else %}General {% endif %}</label>
            <select class="w-100 js-example-basic-single" id="option-selected">
              {% if 'peaje' in request.path %}
              <option value="San_Juan">Guajira-San Juan del Cesar</option>
              <option value="Lobo_Guerrero">
                Valle Del Cauca-Lobo Guerrero
              </option>
              <option value="Rincon_Hondo">Cesar-Rincon Hondo</option>
              <option value="San_Diego">Cesar-San Diego</option>
              <option value="Cocorna_Santuario">
                Antioquia-Cocorna (Santuario)
              </option>
              <option value="Puerto_Triunfo">Antioquia-Puerto Triunfo</option>
              <option value="Guamal">Magdalena-Guamal</option>
              <option value="Santa_Ana">Magdalena-Santa Ana</option>
              <option value="Tunia">Cauca-Tunia</option>
              <option value="Villa_Rica">Cauca-Villa Rica</option>
              <option value="Cencar">Valle Del Cauca-Cencar</option>
              <option value="Cerritos">Valle Del Cauca-Cerritos</option>
              <option value="Ciat">Valle Del Cauca-Ciat</option>
              <option value="Estambul">Valle Del Cauca-Estambul</option>
              <option value="Media_Canoa">Valle Del Cauca-Media Canoa</option>
              <option value="Paso_De_La_Torre">
                Valle Del Cauca-Paso De La Torre
              </option>
              <option value="Rozo">Valle Del Cauca-Rozo</option>
              <option value="Gamarra">Cesar-Gamarra</option>
              <option value="Morrison">Cesar-Morrison</option>
              <option value="Pailitas">Cesar-Pailitas</option>
              <option value="Platanal">Cesar-Platanal</option>
              <option value="Aguas_Negras">Santander-Aguas Negras</option>
              <option value="La_Gomez">Santander-La Gomez</option>
              <option value="Zambito">Santander-Zambito</option>
              <option value="Casablanca">Cundinamarca-Casablanca</option>
              <option value="Saboya">Boyaca-Saboya</option>
              <option value="Oiba">Santander-Oiba</option>
              <option value="Curm">Santander-Curm</option>
              <option value="Los_Curos">Santander-Los Curos</option>
              {% elif 'departamental' in request.path %}
              <option value="Guajira">Guajira</option>
              <option value="Valle_Del_Cauca">Valle Del Cauca</option>
              <option value="Cesar">Cesar</option>
              <option value="Antioquia">Antioquia</option>
              <option value="Magdalena">Magdalena</option>
              <option value="Cauca">Cauca</option>
              <option value="Santander">Santander</option>
              <option value="Cundinamarca">Cundinamarca</option>
              <option value="Boyaca">Boyaca</option>
              {% elif 'general' in request.path %}
              <option value="General" selected>General</option>

              {% endif %}
            </select>
          </div>
        </div>
        <div class="form-row">
          <button type="submit" id="analisis_button" class="btn btn-primary">Mostrar</button>
          <button type="button" id="PDF_button" class="btn btn-danger" style="display: none;margin-left: 20px;">Ver PDF</button>
        </div>
        
      </form>
    </div>
  </div>

  <div class="card card-small mb-4" id="card-main-2" style="display: none">
    <div class="card-body" id="main-body-2">
      <div>
        <h4>Periodo de Analisis <span id="periodoAnalisis"></span></h4>
      </div>
      <div class="row" style="margin-bottom: 30px;">
        <div class="col-12 col-sm-8">
          <canvas id="recaudoCanvas" height="130" style="max-width: 100% !important"></canvas>
        </div>
        <div class="col-12 col-sm-4">
          <div class="table-responsive">
            <table id="recaudoTable" class="table table-striped" style="width: 100%">
            </table>
          </div>
        </div>
      </div>

      <div class="row" style="margin-bottom: 30px;">
        <div class="col-12 col-sm-8">
          <canvas id="recLivComCanvas" height="130" style="max-width: 100% !important"></canvas>
        </div>
        <div class="col-12 col-sm-4">
          <div class="table-responsive">
            <table id="recLivComTable" class="table table-striped" style="width: 100%">
              <thead>
                <tr>
                  <th scope="col"></th>
                  <th scope="col">Livianos</th>
                  <th scope="col">Comerciales</th>
                </tr>
              </thead>
            </table>
          </div>
        </div>
      </div>

      <div class="row" style="margin-bottom: 30px;">
        <div class="col-12 col-sm-8">
          <canvas id="VehiculosCanvas" height="130" style="max-width: 100% !important"></canvas>
        </div>
        <div class="col-12 col-sm-4">
          <div class="table-responsive">
            <table id="VehiculosTable" class="table table-striped" style="width: 100%"></table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
  {% endblock content %}

  <!-- Specific Page JS goes HERE  -->
  {% block javascripts %}
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
  <script src="/static/assets/js/app/app-analisis-GeneralYDepartamental.js"></script>

  {% endblock javascripts %}
